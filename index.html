<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Exemploservletcookie by MarcosDias</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Exemplo de Servlet com Cookie</h1>
        <h2>Exemplo de um projeto utilizando Servlet e cookies.</h2>
        <a href="https://github.com/MarcosDias/ExemploServletCookie" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <p>
            Esse trabalho consiste em uma apresentação para matéria Laboratório
            de Engenharia de Software sobre Padrões de Estado de Sessão
            (<i>Session State Patterns</i>) baseado no capítulo 17 do livro de
            <strong>Padrões de Arquitetura de Aplicações Corporativas</strong> de
            Martin Fowler.
          </p>

          <iframe src="https://docs.google.com/presentation/d/1Rwo2T5y9VB0MLMpbvb-97vSReZUkgRFvs9Q_7VV5lS0/embed?start=false&loop=false&delayms=3000" frameborder="0" width="480" height="389" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

          <h3>
            <a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true">
              <span class="octicon octicon-link"></span>
            </a>
            Introdução
          </h3>

          <ul>
            <li>Cliente-Servidor<li>
            Protocolos Stateless
          </ul>

          <!-- <p>
            This automatic page generator is the easiest way to create beautiful pages for all of your projects. Author your page content here <a href="https://guides.github.com/features/mastering-markdown/">using GitHub Flavored Markdown</a>, select a template crafted by a designer, and publish. After your page is generated, you can check out the new <code>gh-pages</code> branch locally. If you're using GitHub for Mac or GitHub for Windows, simply sync your repository and you'll see the new branch.</p> -->

          <h3>
            <a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true">
              <span class="octicon octicon-link"></span>
            </a>
            Estado da Sessão no Cliente
          </h3>

<!-- <p>We've crafted some handsome templates for you to use. Go ahead and click 'Continue to layouts' to browse through them. You can easily go back to edit your page before publishing. After publishing your page, you can revisit the page generator and switch to another theme. Your Page content will be preserved.</p> -->

          <ul>
            <li>Parâmetros URL</li>
            <li>Campos ocultos</li>
            <li>Cookie</li>
          </ul>

          <ol>
            <strong>Quando usar?</strong>
            <li>Tira a responsabilidade do Servidor</li>
            <li>Não sendo indicado para grande quantidade de dados</li>
            <li>Visibilidade dos dados</li>
          </ol>

          <h3>
            <a id="creating-pages-manually" class="anchor" href="#creating-pages-manually" aria-hidden="true">
              <span class="octicon octicon-link"></span>
            </a>
            Estado da Sessão no Servidor
          </h3>

<!-- <p>If you prefer to not use the automatic generator, push a branch named <code>gh-pages</code> to your repository to create a page manually. In addition to supporting regular HTML content, GitHub Pages support Jekyll, a simple, blog aware static site generator. Jekyll makes it easy to create site-wide headers and footers without having to copy them across every page. It also offers intelligent blog support and other advanced templating features.</p> -->

          <ul>
            <li>Armazenar na memória do servidor de aplicação</li>
            <li>Serialização</li>
            <li>Mecanismo de limpeza de dados</li>
          </ul>

          <ol>
            <strong>Quando usar?</strong>
            <li>Simplicidade</li>
            <li>Manutenção</li>
          </ol>

          <h3>
            <a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true">
              <span class="octicon octicon-link"></span>
            </a>
            Estado da Sessão no Banco de Dados
          </h3>

<!-- <p>We've crafted some handsome templates for you to use. Go ahead and click 'Continue to layouts' to browse through them. You can easily go back to edit your page before publishing. After publishing your page, you can revisit the page generator and switch to another theme. Your Page content will be preserved.</p> -->

          <ul>
            <li>Ainda precisa da ajuda do Cliente</li>
            <li>Mistura de dados da sessão e dados relevantes para todo o sistema</li>
            <li>Utilizar mais tabelas ou mais colunas?</li>
            <li>Mecanismo de limpeza de dados</li>
          </ul>

          <ol>
            <strong>Quando usar?</strong>
            <li>Custos referentes ao Banco de Dados</li>
            <li>Adoção de clusters e recuperação automática de falhas</li>
          </ol>

          <h3>
            <a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true">
              <span class="octicon octicon-link"></span>
            </a>
            Código Fonte
          </h3>
          <p>
            O código pode ser acesso
            <a href="https://github.com/MarcosDias/ExemploServletCookie/tree/gh-pages/codigo/ServletCookie">aqui</a>.</br>
            Para o exemplo criei um pequeno projeto em Servlet e usei o conceito de
            Estado da Sessão no Cliente, usando a técnica de Cookie.
            Segue abaixo as principais partes do projeto.
          </p>

          <p>
            O <a href="https://netbeans.org/">Netbeans</a> criou toda a estrutura
            do projeto, logo, foi necessário apenas criarmos um novo servlet chamado
            <code>CriarCodigo</code> com o código abaixo dentro do método
            <code>processRequest</code>.
          </p>
          <pre><code lang="java">
//Criando um cookie
Cookie cookie = new Cookie("url", "www.meucookie.com.br");
cookie.setMaxAge(60*60); //1hra
//Adicionando a resposta
response.addCookie(cookie);
          </code></pre>

          <p>
            Já para acessar esse cookie, foi necessário criarmos outro servlet
            com o nome de <code>MostrarCookie</code> com o seguinte código
            no método <code>processRequest</code>.
          </p>

          <pre><code lang="java">
Cookie[] cookies = request.getCookies();

try (PrintWriter out = response.getWriter()) {
    /* TODO output your page here. You may use following sample code. */
    out.println("< ! DOCTYPE html>");
    out.println("< html >");
    out.println("< head >");
    out.println("< title >Servlet MostrarCookie</ title >");
    out.println("</ head >");
    out.println("< body >");
    out.println("< h1 >Lendo os cookies</ h1 >");
    for(Cookie c : cookies){
        out.println(c.getName() + ":" + c.getValue());
    }
    out.println("</ body >");
    out.println("</ html >");
}
          </code></pre>
<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>You can <a href="https://github.com/blog/821" class="user-mention">@mention</a> a GitHub username to generate a link to their profile. The resulting <code>&lt;a&gt;</code> element will link to the contributor's GitHub Profile. For example: In 2007, Chris Wanstrath (<a href="https://github.com/defunkt" class="user-mention">@defunkt</a>), PJ Hyett (<a href="https://github.com/pjhyett" class="user-mention">@pjhyett</a>), and Tom Preston-Werner (<a href="https://github.com/mojombo" class="user-mention">@mojombo</a>) founded GitHub.</p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Pages? Check out our <a href="https://help.github.com/pages">documentation</a> or <a href="https://github.com/contact">contact support</a> and we’ll help you sort it out.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/MarcosDias/ExemploServletCookie/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/MarcosDias/ExemploServletCookie/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/MarcosDias/ExemploServletCookie"></a> is maintained by <a href="https://github.com/MarcosDias">MarcosDias</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>


  </body>
</html>
